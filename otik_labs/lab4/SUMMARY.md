# Краткая сводка выполненных заданий Л4

## Реализованные программы

### ✓ Л4.№1 — n1.py (Кодек Хаффмана)
- Формат: SOBSTV v0, алгоритм=1
- Таблица частот: 256 байт (uint8)
- Сжатие/распаковка работает корректно
- Тестирование: ✓ PASS

### ✓ Л4.№2 — n2.py (Анализ разрядностей)
- Поддержка: 64/32/8/4 бит
- Расчёт EB, GB для каждой разрядности
- Определение B* (оптимальная)
- Рекомендация B** = 8 бит
- Команды: `analyze`, `compare`
- Бонус: флаг `--all-bits` для перебора 1..64 бит (+2 балла)
- Тестирование: ✓ PASS

### ✓ Л4.№3 — n3.py (Универсальный декодер)
- Проверка сигнатуры/версии
- Поддержка алгоритмов: 0, 1, 2
- Совместимость со старым форматом (Л3.№1)
- Автоматический выбор декодера
- Тестирование: ✓ PASS (Хаффман, Шеннон-Фано)

### ✓ Л4.№4 — n4.py (Интеллектуальный кодер) [+3 балла]
- Автоматический выбор алгоритма
- Флаг `--force-algorithm=N`
- Вывод статистики сжатия
- Тестирование: ✓ PASS

### ✓ Л4.№6 — n6.py (Кодек Шеннона-Фано) [+3 балла]
- Формат: SOBSTV v0, алгоритм=2
- Метод Шеннона-Фано
- Сжатие/распаковка работает корректно
- Тестирование: ✓ PASS

## Баллы

### Основные задания:
- Л4.№1: ✓
- Л4.№2: ✓
- Л4.№3: ✓

### Бонусы:
- +3 балла: Л4.№4 (интеллектуальный кодер) ✓
- +3 балла: Л4.№6 (Шеннон-Фано) ✓
- +2 балла: перебор всех разрядностей 1..64 (флаг --all-bits в n2.py) ✓

### Итого бонусов: +8 баллов

### Штрафы: 0
- ✓ Формат соответствует Л3
- ✓ Бинарная обработка
- ✓ Таблица частот ≤ 256 байт
- ✓ Декодер корректно обрабатывает алгоритмы

## Результаты тестирования

```
Малый файл (61 байт):
- Исходный:          61 байт
- Хаффман:          304 байт (невыгодно)
- Шеннон-Фано:      305 байт (невыгодно)
- Интеллектуальный:  77 байт (алг. 0 - без сжатия)

Большой файл (9380 байт):
- Исходный:        9380 байт
- Хаффман:         5074 байт (экономия 46%)
- Шеннон-Фано:     5138 байт (экономия 45%)
- Интеллектуальный: 5090 байт (алг. 1 - Хаффман)
```

## Выводы

1. **Разрядность частот:** Для большинства файлов оптимальна B* = 8 бит
   - Малые файлы: B* = 4 бит (таблица меньше)
   - Большие файлы: B* = 8 бит (баланс точности и размера)

2. **Хаффман vs Шеннон-Фано:** Хаффман даёт немного лучшее сжатие (~1%)

3. **Интеллектуальный кодер:** Правильно выбирает алгоритм
   - Малые файлы: без сжатия (таблица больше выигрыша)
   - Большие файлы: Хаффман (существенная экономия)

4. **Сравнение с Л2.№1:**
   - Л2: оценка IΣ = 4818 байт (теоретическая)
   - Л4: реальное E8 = 4818 байт (совпадает!)
   - Различие только в накладных расходах (таблица + заголовок)

## Использование

```bash
# Анализ файла
python3 n2.py analyze file.txt

# Сжатие (автоматический выбор)
python3 n4.py encode file.txt archive.otik

# Распаковка (универсальный декодер)
python3 n3.py decode archive.otik file_out.txt

# Полное тестирование
./test_all.sh
```
